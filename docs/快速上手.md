# 快速上手

本文档将指导您如何快速开始使用 `id-generater` 项目中的核心模块和 Spring Boot 集成模块。

## ID Generator Core (`id-generator-core`)

`id-generator-core` 模块提供了多种 ID 生成算法的基础实现。

### 快速开始示例

以下是如何使用 `id-generator-core` 中不同 ID 生成器的示例：

#### Snowflake ID 生成器

```java
// 创建Snowflake ID生成器
// 构造函数参数分别为：workerId (0-1023), datacenterId (0-31) - 这些值需要根据您的分布式环境进行规划
// 或者使用默认的 workerId 和 datacenterId (均为0)
// SnowflakeIdGenerator generator = new SnowflakeIdGenerator();
SnowflakeIdGenerator generator = new SnowflakeIdGenerator(1, 1);

// 生成ID
long id = generator.nextId();
System.out.println("Generated Snowflake ID: " + id);
```

#### CUID 生成器

```java
// 创建CUIDv2生成器
CUIDv2Generator generator = new CUIDv2Generator();

// 生成CUID
String cuid = generator.nextId();
System.out.println("Generated CUID: " + cuid);
```

#### UUID 生成器

```java
// 创建UUIDv4生成器
UUIDv4Generator generator = new UUIDv4Generator();

// 生成UUID
UUID uuid = generator.nextId();
System.out.println("Generated UUID: " + uuid);
```

#### 自定义 ID 生成器 (基于时间戳的随机 ID 生成器)

```java
// 创建基于时间戳的随机ID生成器
TimeBasedRandomIdGenerator generator = new TimeBasedRandomIdGenerator();

// 生成ID
String id = generator.nextId();
System.out.println("Generated Custom ID: " + id);
```

## ID Generator Spring Redis (`id-generator-spring-redis`)

`id-generator-spring-redis` 模块提供了基于 Redis 的 Snowflake ID 生成器，特别适用于 Spring Boot 项目，可以自动管理 `workerId`。

### Maven 依赖

将以下依赖添加到您的 `pom.xml` 文件中：

```xml
<dependency>
    <groupId>uno.xifan</groupId>
    <artifactId>id-generator-spring-redis</artifactId>
    <version>${latest.version}</version>  <!-- 请替换为最新的版本号 -->
</dependency>
```

### 配置说明

在您的 `application.properties` 或 `application.yml` 文件中配置 Redis 连接信息：

**application.yml 示例:**

```yaml
spring:
  data:
    redis:
      host: localhost
      port: 6379
      # password: your-redis-password # 如果您的Redis有密码
```

**application.properties 示例:**

```properties
spring.data.redis.host=localhost
spring.data.redis.port=6379
# spring.data.redis.password=your-redis-password # 如果您的Redis有密码
```

### 使用示例

在您的 Spring Boot 应用中，您可以直接注入 `SnowflakeIdGenerator` 并使用它来生成 ID：

```java
import uno.xifan.id.generator.SnowflakeId;
import uno.xifan.id.generator.SnowflakeIdGenerator;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

@Service
public class MyService {

    @Autowired
    private SnowflakeIdGenerator snowflakeIdGenerator;

    public void doSomething() {
        // 生成ID
        SnowflakeId id = snowflakeIdGenerator.generate();
        System.out.println("Generated Snowflake ID via Spring Redis: " + id.asLong());
        // 或者获取字符串形式的ID
        // System.out.println("Generated Snowflake ID (String): " + id.asString());
    }
}
```

## 示例项目

您可以参考 [id-generator-spring-redis-demo](../id-generator-spring-redis-demo) 项目，了解 `id-generator-spring-redis` 模块的具体使用方式和配置示例。
